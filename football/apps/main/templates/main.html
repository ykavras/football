{% extends 'base.html' %}{% load staticfiles %}
{% block App %}
    <main>
        <div class="content">
            <h2>heart of</h2>
            <h1>Football</h1>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda culpa cum, cumque error fugiat
                incidunt ipsum.
            </p>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda culpa cum, cumque error fugiat
                incidunt ipsum.
            </p>
        </div>
        <form>
            <div id="img-crop">
                <img class="ready" src="{% static 'img/check.svg' %}" alt="check">
            </div>
            <div id="cropper">
                <img src="{% static 'img/cut.svg' %}" alt="cut">
                <span>Cut</span>
            </div>
            <input type="hidden" id="imagebase64" name="imagebase64">
            <label for="upload-image">
                <input type="file" name="image" id="upload-image" value="Choose a file" required>
            </label>
            <label for="name">
                <input type="text" name="name" id="name" placeholder="Name" required>
            </label>
            <label for="surname">
                <input type="text" name="surname" id="surname" placeholder="Surname" required>
            </label>
            <label for="email">
                <input type="email" name="email" id="email" placeholder="E-Mail" required>
            </label>
            <label for="tel">
                <input type="tel" name="tel" id="tel" placeholder="Phone" required>
            </label>
            <label for="address">
                <input name="address" id="address" placeholder="Address" required>
            </label>
            <label for="reference-code">
                <input type="text" name="reference_code" id="reference-code" placeholder="Reference Code" required>
            </label>
            <button type="submit">
                <img src="{% static 'img/ball.svg' %}" alt="ball">
                <span>Join</span>
            </button>
        </form>
        <a class="join-btn">
            <?xml version="1.0"?>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                <g id="Medical_Report" data-name="Medical Report">
                    <path d="M43,2H7A5.006,5.006,0,0,0,2,7V57a5.006,5.006,0,0,0,5,5H43a5.006,5.006,0,0,0,5-5V7A5.006,5.006,0,0,0,43,2ZM42,4v6.586L40.707,9.293a1,1,0,0,0-1.414,0L38,10.586V4Zm4,53a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V7A3,3,0,0,1,7,4H36v9a1,1,0,0,0,1.707.707L40,11.414l2.293,2.293A1,1,0,0,0,44,13V4.184A3,3,0,0,1,46,7Z"/>
                    <path d="M61.707,20.293,58,16.586V13a1,1,0,0,0-1-1V7a1,1,0,0,0-1-1H52a1,1,0,0,0-1,1v5a1,1,0,0,0-1,1V51a1,1,0,0,0,.1.447l2,4A1,1,0,0,0,53,56v4h2V56a1,1,0,0,0,.9-.553l2-4A1,1,0,0,0,58,51V19.414l2,2V29h2V21A1,1,0,0,0,61.707,20.293ZM52,49V20h4V49Zm0-31V14h4v4ZM53,8h2v4H53Zm1.382,46h-.764l-1.5-3h3.764Z"/>
                    <path d="M25,28A10,10,0,1,0,15,18,10.011,10.011,0,0,0,25,28Zm0-18a8,8,0,1,1-8,8A8.009,8.009,0,0,1,25,10Z"/>
                    <path d="M22,21v2a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V21h2a1,1,0,0,0,1-1V16a1,1,0,0,0-1-1H28V13a1,1,0,0,0-1-1H23a1,1,0,0,0-1,1v2H20a1,1,0,0,0-1,1v4a1,1,0,0,0,1,1Zm-1-4h2a1,1,0,0,0,1-1V14h2v2a1,1,0,0,0,1,1h2v2H27a1,1,0,0,0-1,1v2H24V20a1,1,0,0,0-1-1H21Z"/>
                    <rect x="10" y="31" width="4" height="2"/>
                    <rect x="16" y="31" width="24" height="2"/>
                    <rect x="10" y="36" width="30" height="2"/>
                    <rect x="10" y="41" width="30" height="2"/>
                    <rect x="10" y="46" width="30" height="2"/>
                    <rect x="10" y="51" width="30" height="2"/>
                </g>
            </svg>
        </a>
    </main>
{% endblock %}
{% block Scripts %}
    <script src="{% static 'croppie/croppie.min.js' %}"></script>
    <script type="text/javascript">
        let $uploadCrop;

        function readFile(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    $uploadCrop.croppie('bind', {
                        url: e.target.result
                    });
                    $('.ready').addClass('active');
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        $uploadCrop = $('#img-crop').croppie({
            viewport: {width: 120, height: 120},
            enableOrientation: true,
            mouseWheelZoom: 'ctrl'
        });

        $('#upload-image').on('change', function () {
            readFile(this);
        });

        $('#cropper').on('click', function () {
            $uploadCrop.croppie('result', {
                type: 'canvas',
                size: 'original'
            }).then(function (resp) {
                $('#imagebase64').val(resp);
            });
        });

        $('form').on('submit', function (e) {
            e.preventDefault();
            //e.stopPropagation();
            $('#cropper').trigger('click');
        });

        $('.join-btn').on('click', function () {
            $('form').addClass('active');
        });
    </script>
{% endblock %}